prxshot v0.2.3 - Codestation

This Homebrew is an entry for the PSP Genesis competition 2011,
sponsored by npt, psp-hacks.com, pspgen.com, pspslimhacks.com,
exophase.com, pspcustomfirmware.com, daxhordes.org, gamegaz.jp,
and wololo.net

This is a screenshot plugin that doesn't need to pause the game to take
the capture (useful for online gaming) and classifies the images
per game using their name and icons.

The plugin stores the screenshot in BMP format inside:

>>  /PSP/SCREENSHOT/<GAME_ID>/pic_XXXX.bmp

for umd/iso games or:

>>  /PSP/SCREENSHOT/PS<8 bytes sha1sum of the title>/pic_XXXX.bmp

for homebrew or games in PBP format (because the homebrews have
the same GAME_ID).

Installation:
Copy the prxshot directory to the seplugins directory (or anywhere you want)
and add the plugin to the game.txt file (and/or vsh.txt if you want to).

How to use it: press the NOTE button to take a screenshot.

The prxshot directory comes with these files:
* prxshot.prx: the plugin
* default_icon0.png: optional default icon to use for those homebrews
without icon (you can make your own image, just try to maintain the same
dimensions)
* xmb.sfo: template to make folder icon for screenshots in VSH mode.
* prxshot.ini: configuration file

Changelog:
v0.2.3:
Added support for eLoader (1.50 eboot loader)
Recreate the XMB folder if is deleted.
Removed the update cache after the screenshot as it causes trouble
with game categories.
Added more debug messages.
v0.2.2:
Added support for POPS (PSone games support).
Added support for storing the screenshots into the M2 in the PSPGo.
Added logging and made it conditional on build when compiling from source.
Fixed bug with XMB icon creation introduced in 0.2.0.
v0.2.1:
Added OIL to blacklist.
v0.2.0:
Removed trailing "/" so the directory creation don't fail.
New configuration file (prxshot.ini) so now you can configure some things
like background use for picture folders, change the button combo to take
the screenshot and the suffix/prefix of the picture file.
v0.1.3:
Create /PSP/SCREENSHOT in case it doesn't exists
v0.1.2:
Rewrote asm payload code (doesn't need memory allocation anymore so hopefully
the issues with 6.20 / aLoader are finally fixed)
v0.1.1:
Fixes bugs with 6.20 TN and/or aLoader

Known issues:
Screenshots during loader screens (OIL/aLoader/PIL) have undefined behaviour
(wait for the game to actually start)

Source code available at https://github.com/codestation/prxshot
